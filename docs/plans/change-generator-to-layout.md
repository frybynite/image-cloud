# Plan: Rename "generators" to "layouts" across the codebase (COMPLETED)

## Context

The public API uses `layout` as the configuration key (`layout: { algorithm: 'radial' }`) and documentation refers to "layouts," but the internal source directory is `src/generators/` and classes are named `*PlacementGenerator`. This inconsistency is confusing. We're aligning internal naming with public-facing terminology.

---

## Scope Summary

| Area | Files affected | Has "generator" refs? |
|------|---------------|----------------------|
| src/generators/ (6 files) | 6 | Yes - class names, filenames |
| src/config/types.ts | 1 | Yes - `PlacementGenerator` interface |
| src/engines/LayoutEngine.ts | 1 | Yes - imports, field, method |
| src/index.ts | 1 | Yes - exports |
| docs/ | 6 | Yes - GENERATORS.md, api/generators.md, DEVELOPER.md, api/README.md, api/types.md, plans/entry-animations.md |
| Root markdown | 3 | Yes - README.md, CLAUDE.md, CONTEXT_LOG.md |
| docs/BACKLOG.md | 1 | Yes - the idea item itself |
| test/, examples/, configurator/ | 0 | No references found |
| dist/ | N/A | Auto-regenerated by build |

---

## Step-by-step Plan

### Step 1: Rename directory and files

Rename `src/generators/` to `src/layouts/` and rename each file:

| Old filename | New filename |
|---|---|
| `src/generators/RandomPlacementGenerator.ts` | `src/layouts/RandomPlacementLayout.ts` |
| `src/generators/RadialPlacementGenerator.ts` | `src/layouts/RadialPlacementLayout.ts` |
| `src/generators/GridPlacementGenerator.ts` | `src/layouts/GridPlacementLayout.ts` |
| `src/generators/SpiralPlacementGenerator.ts` | `src/layouts/SpiralPlacementLayout.ts` |
| `src/generators/ClusterPlacementGenerator.ts` | `src/layouts/ClusterPlacementLayout.ts` |
| `src/generators/WavePlacementGenerator.ts` | `src/layouts/WavePlacementLayout.ts` |

### Step 2: Rename classes and interface inside each layout file

In each of the 6 layout files:
- Rename class: `*PlacementGenerator` -> `*PlacementLayout`
- Update `implements PlacementGenerator` -> `implements PlacementLayout`
- Update file-header comments

### Step 3: Rename interface in `src/config/types.ts`

- `PlacementGenerator` -> `PlacementLayout` (line ~604)

### Step 4: Update `src/engines/LayoutEngine.ts`

- Update all 6 import paths (`../generators/*` -> `../layouts/*`)
- Update all 6 import class names (`*PlacementGenerator` -> `*PlacementLayout`)
- Update import of `PlacementGenerator` type -> `PlacementLayout`
- Rename private field: `generator` -> `layout` (note: must not conflict with existing `layout` variables - verify scope)
- Rename method: `initGenerator()` -> `initLayout()`
- Update all 6 `new *PlacementGenerator(...)` -> `new *PlacementLayout(...)`
- Update comments referencing "generator"

### Step 5: Update `src/index.ts`

- Update all export paths (`./generators/*` -> `./layouts/*`)
- Update all exported class names (`*PlacementGenerator` -> `*PlacementLayout`)
- Update `PlacementGenerator` type export -> `PlacementLayout`
- Update comment: "Export generators for custom implementations" -> "Export layouts for custom implementations"

### Step 6: Update documentation files

- **`docs/GENERATORS.md`** -> Rename file to **`docs/LAYOUTS.md`**, update content
- **`docs/api/generators.md`** -> Rename file to **`docs/api/layouts.md`**, update all class names, interface name, code examples
- **`docs/api/README.md`** -> Update link from `generators.md` to `layouts.md`, update class names
- **`docs/api/types.md`** -> Update reference from "Generators" to "Layouts"
- **`docs/DEVELOPER.md`** -> Update directory tree (`generators/` -> `layouts/`, class names)
- **`docs/plans/entry-animations.md`** -> Update "placement generator" references

### Step 7: Update root markdown files

- **`README.md`** -> Update link to GENERATORS.md -> LAYOUTS.md, update text
- **`CLAUDE.md`** -> Update architecture tree (`generators/` -> `layouts/`, class names), update "Layout Generators" description
- **`CONTEXT_LOG.md`** -> Update `src/generators/*.ts` reference

### Step 8: Update backlog

- **`docs/BACKLOG.md`** -> Mark the rename idea as completed, move to Completed section

### Step 9: Build and verify

```bash
npm run type-check    # Ensure no TypeScript errors
npm run build         # Ensure build succeeds
npm test              # Ensure all tests pass
```

---

## Verification

1. `npm run type-check` passes
2. `npm run build` produces clean output
3. `npm test` â€” all Playwright tests pass
4. Verify no remaining "generator" references: `grep -ri "generator" src/` returns nothing
5. Spot-check `docs/` for any remaining "generator" references
